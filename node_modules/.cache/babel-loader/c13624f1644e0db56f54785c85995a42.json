{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6ef6ca5e\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"THÔNG TIN TÀI KHOẢN\", -1\n/* HOISTED */\n));\n\nconst _hoisted_2 = {\n  id: \"one\"\n};\nconst _hoisted_3 = [\"src\"];\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", null, [/*#__PURE__*/_createElementVNode(\"i\", {\n  style: {\n    \"color\": \"blue\"\n  }\n}, [/*#__PURE__*/_createTextVNode(\"Thay đổi ảnh đại diện \"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createElementVNode(\"span\", null, [/*#__PURE__*/_createTextVNode(\"Hệ thống đang cải thiện, vui lòng \"), /*#__PURE__*/_createElementVNode(\"strong\", null, \"(chọn ảnh và tải lại trang)\"), /*#__PURE__*/_createTextVNode(\" 2 lần để có ảnh \")])])], -1\n/* HOISTED */\n));\n\nconst _hoisted_8 = {\n  class: \"component-item\"\n};\nconst _hoisted_9 = {\n  id: \"two\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Tên đăng nhập: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Địa chỉ Email: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"ID nhận dạng: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Ngày tạo: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Vai trò: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Lần đăng nhập gần nhất: \", -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", null, [_createElementVNode(\"article\", _hoisted_2, [_createElementVNode(\"img\", {\n    src: $setup.userInfo.userImg,\n    alt: \"\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_3), _hoisted_4, _hoisted_5, _hoisted_6, _hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"input\", {\n    type: \"file\",\n    name: \"\",\n    id: \"imgSrc\",\n    accept: \"image/*\",\n    placeholder: \"Ảnh đại diện\",\n    onChange: _cache[0] || (_cache[0] = (...args) => _ctx.onchangeFile && _ctx.onchangeFile(...args))\n  }, null, 32\n  /* HYDRATE_EVENTS */\n  )]), _createCommentVNode(\" <button @click=\\\"onclickBtn\\\"></button> \")]), _createElementVNode(\"article\", _hoisted_9, [_createElementVNode(\"p\", null, [_hoisted_10, _createTextVNode(\" \" + _toDisplayString($setup.userInfo.userName), 1\n  /* TEXT */\n  )]), _createElementVNode(\"p\", null, [_hoisted_11, _createTextVNode(_toDisplayString($setup.userInfo.email), 1\n  /* TEXT */\n  )]), _createElementVNode(\"p\", null, [_hoisted_12, _createTextVNode(\" \" + _toDisplayString($setup.userInfo.userID), 1\n  /* TEXT */\n  )]), _createElementVNode(\"p\", null, [_hoisted_13, _createTextVNode(\" \" + _toDisplayString($setup.userInfo.dayCreate), 1\n  /* TEXT */\n  )]), _createElementVNode(\"p\", null, [_hoisted_14, _createTextVNode(\" \" + _toDisplayString($setup.userInfo.role), 1\n  /* TEXT */\n  )]), _createElementVNode(\"p\", null, [_hoisted_15, _createTextVNode(\" \" + _toDisplayString($setup.userInfo.lastDaySignIn), 1\n  /* TEXT */\n  )])])])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","id","style","class","_hoisted_1","src","$setup","userImg","alt","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","type","name","accept","placeholder","onChange","_ctx","_createCommentVNode","_hoisted_10","_toDisplayString","userName","_hoisted_11","email","_hoisted_12","userID","_hoisted_13","dayCreate","_hoisted_14","role","_hoisted_15","lastDaySignIn"],"sourceRoot":"","sources":["D:\\Java\\movie-website-project-1\\src\\components\\UserProfile.vue"],"sourcesContent":["<template>\r\n  <h1>THÔNG TIN TÀI KHOẢN</h1>\r\n  <div>\r\n    <article id=\"one\">\r\n      <img :src=\"userInfo.userImg\" alt=\"\" />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <h3>\r\n        <i style=\"color: blue\"\r\n          >Thay đổi ảnh đại diện <br /><span\r\n            >Hệ thống đang cải thiện, vui lòng\r\n            <strong>(chọn ảnh và tải lại trang)</strong> 2 lần để có ảnh\r\n          </span></i\r\n        >\r\n      </h3>\r\n      <div class=\"component-item\">\r\n        <input\r\n          type=\"file\"\r\n          name=\"\"\r\n          id=\"imgSrc\"\r\n          accept=\"image/*\"\r\n          placeholder=\"Ảnh đại diện\"\r\n          @change=\"onchangeFile\"\r\n        />\r\n      </div>\r\n      <!-- <button @click=\"onclickBtn\"></button> -->\r\n    </article>\r\n    <article id=\"two\">\r\n      <p><strong>Tên đăng nhập: </strong> {{ userInfo.userName }}</p>\r\n      <p><strong>Địa chỉ Email: </strong>{{ userInfo.email }}</p>\r\n      <p><strong>ID nhận dạng: </strong> {{ userInfo.userID }}</p>\r\n      <p><strong>Ngày tạo: </strong> {{ userInfo.dayCreate }}</p>\r\n      <p><strong>Vai trò: </strong> {{ userInfo.role }}</p>\r\n      <p>\r\n        <strong>Lần đăng nhập gần nhất: </strong> {{ userInfo.lastDaySignIn }}\r\n      </p>\r\n    </article>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import {\r\n//   getStorage,\r\n//   ref as stRef,\r\n//   uploadBytes,\r\n//   getDownloadURL,\r\n// } from \"firebase/storage\";\r\n// import { getDatabase, ref as dbRef, push, set } from \"firebase/database\";\r\nimport { onMounted, reactive } from \"vue\";\r\n// import { getAuth, onAuthStateChanged, updateProfile } from \"firebase/auth\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  setup() {\r\n    const userInfo = reactive({\r\n      email: \"\",\r\n      userName: \"\",\r\n      role: \"\",\r\n      userID: \"\",\r\n      // dayCreate: \"\",\r\n      // lastDaySignIn: \"\",\r\n      // userImg: \"\",\r\n    });\r\n\r\n    onMounted(async () => {\r\n      const res = await axios.get(\"http://localhost:8081/user/info\", {\r\n        headers: {\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n        },\r\n      });\r\n      userInfo.userID = res.data.id;\r\n      userInfo.email = res.data.email;\r\n      userInfo.role = res.data.role;\r\n      userInfo.userName = res.data.username;\r\n    });\r\n\r\n    // UPLOAD FILE AND GET URL FROM STORAGE\r\n    // const storage = getStorage();\r\n    // const database = getDatabase();\r\n    // const databaseRef = dbRef(database);\r\n\r\n    // async function onchangeFile(event) {\r\n    //   const file = event.target.files[0];\r\n    //   if (file) {\r\n    //     const fileRef = stRef(storage, file.name);\r\n    //     //UPLOAD FILE\r\n    //     uploadBytes(fileRef, file).then((data) => {\r\n    //       console.log(data);\r\n    //       const newFile = push(databaseRef);\r\n    //       set(newFile, {\r\n    //         name: file.name,\r\n    //       });\r\n    //     });\r\n\r\n    //     //DOWNLOAD FILE\r\n    //     getDownloadURL(fileRef).then((url) => {\r\n    //       console.log(url);\r\n    //       updateProfile(getAuth().currentUser, { photoURL: url });\r\n    //     });\r\n    //   }\r\n    // }\r\n\r\n    // // NEU DANG NHAP THANH CONG LAY THONG TIN VE TAI KHOAN\r\n    // let auth;\r\n    // onMounted(() => {\r\n    //   auth = getAuth();\r\n    //   onAuthStateChanged(auth, (user) => {\r\n    //     if (user) {\r\n    //       userInfo.email = user.email;\r\n    //       userInfo.userName = user.displayName;\r\n    //       userInfo.userID = user.uid;\r\n    //       userInfo.dayCreate = user.metadata.creationTime;\r\n    //       userInfo.lastDaySignIn = user.metadata.lastSignInTime;\r\n    //       userInfo.userImg = user.photoURL;\r\n    //     } else {\r\n    //       return;\r\n    //     }\r\n    //   });\r\n    // });\r\n    return {\r\n      userInfo,\r\n      // onchangeFile,\r\n      // onclickBtn\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  text-align: center;\r\n}\r\ndiv {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n}\r\narticle {\r\n  margin-left: 30px;\r\n}\r\nspan {\r\n  font-size: 12px;\r\n  color: black;\r\n}\r\n#one {\r\n  width: 300px;\r\n}\r\nstrong {\r\n  text-decoration: underline;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}