{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6ef6ca5e\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"THÔNG TIN TÀI KHOẢN\", -1\n/* HOISTED */\n));\n\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"article\", {\n  id: \"one\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"http://fc05.deviantart.net/fs71/f/2012/002/3/a/my_avatar_facebook_style_by_dairon11-d4l4n5w.jpg\",\n  alt: \"\"\n}), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createCommentVNode(\" <h3>\\r\\n        <i style=\\\"color: blue\\\"\\r\\n          >Thay đổi ảnh đại diện <br /><span\\r\\n            >Hệ thống đang cải thiện, vui lòng\\r\\n            <strong>(chọn ảnh và tải lại trang)</strong> 2 lần để có ảnh\\r\\n          </span></i\\r\\n        >\\r\\n      </h3>\\r\\n      <div class=\\\"component-item\\\">\\r\\n        <input\\r\\n          type=\\\"file\\\"\\r\\n          name=\\\"\\\"\\r\\n          id=\\\"imgSrc\\\"\\r\\n          accept=\\\"image/*\\\"\\r\\n          placeholder=\\\"Ảnh đại diện\\\"\\r\\n          @change=\\\"onchangeFile\\\"\\r\\n        />\\r\\n      </div> \"), /*#__PURE__*/_createCommentVNode(\" <button @click=\\\"onclickBtn\\\"></button> \")], -1\n/* HOISTED */\n));\n\nconst _hoisted_3 = {\n  id: \"two\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Tên đăng nhập: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Địa chỉ Email: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"ID: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Vai trò: \", -1\n/* HOISTED */\n));\n\nconst _hoisted_8 = {\n  class: \"btn btn-info\"\n};\n\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"Back to Homepage\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", null, [_hoisted_2, _createElementVNode(\"article\", _hoisted_3, [_createElementVNode(\"p\", null, [_hoisted_4, _createTextVNode(\" \" + _toDisplayString($setup.userInfo.userName), 1\n  /* TEXT */\n  )]), _createElementVNode(\"p\", null, [_hoisted_5, _createTextVNode(_toDisplayString($setup.userInfo.email), 1\n  /* TEXT */\n  )]), _createElementVNode(\"p\", null, [_hoisted_6, _createTextVNode(\" \" + _toDisplayString($setup.userInfo.userID), 1\n  /* TEXT */\n  )]), _createCommentVNode(\" <p><strong>Ngày tạo: </strong> {{ userInfo.dayCreate }}</p> \"), _createElementVNode(\"p\", null, [_hoisted_7, _createTextVNode(\" \" + _toDisplayString($setup.userInfo.role), 1\n  /* TEXT */\n  )]), _createCommentVNode(\" <p>\\r\\n        <strong>Lần đăng nhập gần nhất: </strong> {{ userInfo.lastDaySignIn }}\\r\\n      </p> \"), _createElementVNode(\"button\", _hoisted_8, [_createVNode(_component_router_link, {\n    style: {\n      \"text-decoration\": \"none\",\n      \"color\": \"black\"\n    },\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [_hoisted_9]),\n    _: 1\n    /* STABLE */\n\n  })])])])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;;;gEACEA,oBAA4B,IAA5B,EAA4B,IAA5B,EAAI,qBAAJ,EAAuB;AAAA;AAAvB;;gEAEEA,oBA2BU,SA3BV,EA2BU;AA3BDC,IAAE,EAAC;AA2BF,CA3BV,EAAiB,cACfD,oBAGE,KAHF,EAGE;AAFAE,KAAG,EAAC,iGAEJ;AADAC,KAAG,EAAC;AACJ,CAHF,CADe,eAKfH,oBAAM,IAAN,CALe,eAMfA,oBAAM,IAAN,CANe,eAOfA,oBAAM,IAAN,CAPe,eAQfI,wjBARe,eA0BfA,gEA1Be,CAAjB;;AAAA;;;AA4BSH,IAAE,EAAC;;;gEACPD,oBAAgC,QAAhC,EAAgC,IAAhC,EAAQ,iBAAR,EAAuB;AAAA;AAAvB;;gEACAA,oBAAgC,QAAhC,EAAgC,IAAhC,EAAQ,iBAAR,EAAuB;AAAA;AAAvB;;gEACAA,oBAAqB,QAArB,EAAqB,IAArB,EAAQ,MAAR,EAAY;AAAA;AAAZ;;gEAEAA,oBAA0B,QAA1B,EAA0B,IAA1B,EAAQ,WAAR,EAAiB;AAAA;AAAjB;;;AAIKK,OAAK,EAAC;;;iDAET;;;;;6DAzCTC,YACAN,oBA4CM,KA5CN,EA4CM,IA5CN,EA4CM,CA3CJO,UA2CI,EAfJP,oBAcU,SAdV,cAcU,CAbRA,oBAA+D,GAA/D,EAA+D,IAA/D,EAA+D,CAA5DQ,UAA4D,mBAA5B,MAACC,iBAAGC,gBAASC,QAAZ,GAAoB;AAAA;GAAO,CAA/D,CAaQ,EAZRX,oBAA2D,GAA3D,EAA2D,IAA3D,EAA2D,CAAxDY,UAAwD,oCAArBF,gBAASG,QAAK;AAAA;GAAO,CAA3D,CAYQ,EAXRb,oBAAkD,GAAlD,EAAkD,IAAlD,EAAkD,CAA/Cc,UAA+C,mBAA1B,MAACL,iBAAGC,gBAASK,MAAZ,GAAkB;AAAA;GAAO,CAAlD,CAWQ,EAVRX,oFAUQ,EATRJ,oBAAqD,GAArD,EAAqD,IAArD,EAAqD,CAAlDgB,UAAkD,mBAAxB,MAACP,iBAAGC,gBAASO,IAAZ,GAAgB;AAAA;GAAO,CAArD,CASQ,EARRb,4HAQQ,EALRJ,oBAIS,QAJT,cAIS,CAHPkB,aAECC,sBAFD,EAEC;AAFYC,SAA2C,EAA3C;AAAA;AAAA;AAAA,KAEZ;AAFwDC,MAAE,EAAC;AAE3D,GAFD;sBACG,MAAgB;;;;GADnB,CAGO,CAJT,CAKQ,CAdV,CAeI,CA5CN","names":["_createElementVNode","id","src","alt","_createCommentVNode","class","_hoisted_1","_hoisted_2","_hoisted_4","_toDisplayString","$setup","userName","_hoisted_5","email","_hoisted_6","userID","_hoisted_7","role","_createVNode","_component_router_link","style","to"],"sourceRoot":"","sources":["D:\\Java\\movie-website-project-1\\src\\components\\UserProfile.vue"],"sourcesContent":["<template>\r\n  <h1>THÔNG TIN TÀI KHOẢN</h1>\r\n  <div>\r\n    <article id=\"one\">\r\n      <img\r\n        src=\"http://fc05.deviantart.net/fs71/f/2012/002/3/a/my_avatar_facebook_style_by_dairon11-d4l4n5w.jpg\"\r\n        alt=\"\"\r\n      />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <!-- <h3>\r\n        <i style=\"color: blue\"\r\n          >Thay đổi ảnh đại diện <br /><span\r\n            >Hệ thống đang cải thiện, vui lòng\r\n            <strong>(chọn ảnh và tải lại trang)</strong> 2 lần để có ảnh\r\n          </span></i\r\n        >\r\n      </h3>\r\n      <div class=\"component-item\">\r\n        <input\r\n          type=\"file\"\r\n          name=\"\"\r\n          id=\"imgSrc\"\r\n          accept=\"image/*\"\r\n          placeholder=\"Ảnh đại diện\"\r\n          @change=\"onchangeFile\"\r\n        />\r\n      </div> -->\r\n      <!-- <button @click=\"onclickBtn\"></button> -->\r\n    </article>\r\n    <article id=\"two\">\r\n      <p><strong>Tên đăng nhập: </strong> {{ userInfo.userName }}</p>\r\n      <p><strong>Địa chỉ Email: </strong>{{ userInfo.email }}</p>\r\n      <p><strong>ID: </strong> {{ userInfo.userID }}</p>\r\n      <!-- <p><strong>Ngày tạo: </strong> {{ userInfo.dayCreate }}</p> -->\r\n      <p><strong>Vai trò: </strong> {{ userInfo.role }}</p>\r\n      <!-- <p>\r\n        <strong>Lần đăng nhập gần nhất: </strong> {{ userInfo.lastDaySignIn }}\r\n      </p> -->\r\n      <button class=\"btn btn-info\">\r\n        <router-link style=\"text-decoration: none; color: black\" to=\"/\"\r\n          >Back to Homepage</router-link\r\n        >\r\n      </button>\r\n    </article>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import {\r\n//   getStorage,\r\n//   ref as stRef,\r\n//   uploadBytes,\r\n//   getDownloadURL,\r\n// } from \"firebase/storage\";\r\n// import { getDatabase, ref as dbRef, push, set } from \"firebase/database\";\r\nimport { onMounted, reactive } from \"vue\";\r\n// import { getAuth, onAuthStateChanged, updateProfile } from \"firebase/auth\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  setup() {\r\n    const userInfo = reactive({\r\n      email: \"\",\r\n      userName: \"\",\r\n      role: \"\",\r\n      userID: \"\",\r\n      // dayCreate: \"\",\r\n      // lastDaySignIn: \"\",\r\n      // userImg: \"\",\r\n    });\r\n\r\n    onMounted(async () => {\r\n      const res = await axios.get(\"http://localhost:8081/user/info\", {\r\n        headers: {\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n        },\r\n      });\r\n\r\n      userInfo.userID = res.data.id;\r\n      userInfo.email = res.data.email;\r\n      userInfo.role = res.data.authorities[0].authority;\r\n      userInfo.userName = res.data.username;\r\n    });\r\n\r\n    // UPLOAD FILE AND GET URL FROM STORAGE\r\n    // const storage = getStorage();\r\n    // const database = getDatabase();\r\n    // const databaseRef = dbRef(database);\r\n\r\n    // async function onchangeFile(event) {\r\n    //   const file = event.target.files[0];\r\n    //   if (file) {\r\n    //     const fileRef = stRef(storage, file.name);\r\n    //     //UPLOAD FILE\r\n    //     uploadBytes(fileRef, file).then((data) => {\r\n    //       console.log(data);\r\n    //       const newFile = push(databaseRef);\r\n    //       set(newFile, {\r\n    //         name: file.name,\r\n    //       });\r\n    //     });\r\n\r\n    //     //DOWNLOAD FILE\r\n    //     getDownloadURL(fileRef).then((url) => {\r\n    //       console.log(url);\r\n    //       updateProfile(getAuth().currentUser, { photoURL: url });\r\n    //     });\r\n    //   }\r\n    // }\r\n\r\n    // // NEU DANG NHAP THANH CONG LAY THONG TIN VE TAI KHOAN\r\n    // let auth;\r\n    // onMounted(() => {\r\n    //   auth = getAuth();\r\n    //   onAuthStateChanged(auth, (user) => {\r\n    //     if (user) {\r\n    //       userInfo.email = user.email;\r\n    //       userInfo.userName = user.displayName;\r\n    //       userInfo.userID = user.uid;\r\n    //       userInfo.dayCreate = user.metadata.creationTime;\r\n    //       userInfo.lastDaySignIn = user.metadata.lastSignInTime;\r\n    //       userInfo.userImg = user.photoURL;\r\n    //     } else {\r\n    //       return;\r\n    //     }\r\n    //   });\r\n    // });\r\n    return {\r\n      userInfo,\r\n      // onchangeFile,\r\n      // onclickBtn\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  text-align: center;\r\n}\r\ndiv {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n}\r\narticle {\r\n  margin-left: 30px;\r\n}\r\nspan {\r\n  font-size: 12px;\r\n  color: black;\r\n}\r\n#one {\r\n  width: 300px;\r\n}\r\nstrong {\r\n  text-decoration: underline;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}