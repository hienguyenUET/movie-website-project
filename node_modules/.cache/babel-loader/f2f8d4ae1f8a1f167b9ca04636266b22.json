{"ast":null,"code":"import { onMounted, ref } from \"vue\"; // import { getAuth, onAuthStateChanged, signOut } from \"firebase/auth\";\n\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nexport default {\n  name: \"WebHeader\",\n\n  setup() {\n    const isLoggedIn = ref(false);\n    const username = ref(\"\");\n    const userID = ref(\"\");\n    const userEmail = ref(\"\");\n    const router = useRouter();\n    onMounted(async () => {\n      const res = await axios.get(\"http://localhost:8081/user/info\", {\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n        }\n      });\n      userID.value = res.data.id;\n      userEmail.value = res.data.email;\n      username.value = res.data.username;\n      isLoggedIn.value = true;\n    }); // let auth;\n    // onMounted(() => {\n    //   auth = getAuth();\n    //   onAuthStateChanged(auth, (user) => {\n    //     if (user) {\n    //       isLoggedIn.value = true;\n    //       username.value = user.displayName;\n    //       userID.value = user.uid;\n    //       userImg.value = user.photoURL;\n    //       // console.log(user);\n    //     } else {\n    //       isLoggedIn.value = false;\n    //     }\n    //   });\n    // });\n\n    function handleSignOut() {\n      localStorage.removeItem(\"token\");\n      router.push(\"/login\");\n    }\n\n    return {\n      handleSignOut,\n      isLoggedIn,\n      username,\n      userID,\n      userEmail\n    };\n  }\n\n};","map":{"version":3,"mappings":"AA8KA,SAASA,SAAT,EAAoBC,GAApB,QAA+B,KAA/B,C,CACA;;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,MAAI,EAAE,WADO;;AAEbC,OAAK,GAAG;AACN,UAAMC,UAAS,GAAIL,GAAG,CAAC,KAAD,CAAtB;AACA,UAAMM,QAAO,GAAIN,GAAG,CAAC,EAAD,CAApB;AACA,UAAMO,MAAK,GAAIP,GAAG,CAAC,EAAD,CAAlB;AACA,UAAMQ,SAAQ,GAAIR,GAAG,CAAC,EAAD,CAArB;AACA,UAAMS,MAAK,GAAIR,SAAS,EAAxB;AAEAF,aAAS,CAAC,YAAY;AACpB,YAAMW,GAAE,GAAI,MAAMR,KAAK,CAACS,GAAN,CAAU,iCAAV,EAA6C;AAC7DC,eAAO,EAAE;AACPC,uBAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADpB;AADoD,OAA7C,CAAlB;AAKAR,YAAM,CAACS,KAAP,GAAeN,GAAG,CAACO,IAAJ,CAASC,EAAxB;AACAV,eAAS,CAACQ,KAAV,GAAkBN,GAAG,CAACO,IAAJ,CAASE,KAA3B;AACAb,cAAQ,CAACU,KAAT,GAAiBN,GAAG,CAACO,IAAJ,CAASX,QAA1B;AACAD,gBAAU,CAACW,KAAX,GAAmB,IAAnB;AACD,KAVQ,CAAT,CAPM,CAkBN;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,aAASI,aAAT,GAAyB;AACvBN,kBAAY,CAACO,UAAb,CAAwB,OAAxB;AACAZ,YAAM,CAACa,IAAP,CAAY,QAAZ;AACF;;AACA,WAAO;AACLF,mBADK;AAELf,gBAFK;AAGLC,cAHK;AAILC,YAJK;AAKLC;AALK,KAAP;AAOD;;AA/CY,CAAf","names":["onMounted","ref","useRouter","axios","name","setup","isLoggedIn","username","userID","userEmail","router","res","get","headers","Authorization","localStorage","getItem","value","data","id","email","handleSignOut","removeItem","push"],"sourceRoot":"","sources":["D:\\Java\\movie-website-project-1\\src\\components\\WebHeader.vue"],"sourcesContent":["<template>\r\n  <header>\r\n    <div class=\"logo\">\r\n      <div class=\"logo-details\">\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"30\"\r\n          height=\"30\"\r\n          fill=\"currentColor\"\r\n          class=\"bi bi-film\"\r\n          viewBox=\"0 0 20 20\"\r\n        >\r\n          <path\r\n            d=\"M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm4 0v6h8V1H4zm8 8H4v6h8V9zM1 1v2h2V1H1zm2 3H1v2h2V4zM1 7v2h2V7H1zm2 3H1v2h2v-2zm-2 3v2h2v-2H1zM15 1h-2v2h2V1zm-2 3v2h2V4h-2zm2 3h-2v2h2V7zm-2 3v2h2v-2h-2zm2 3h-2v2h2v-2z\"\r\n          />\r\n        </svg>\r\n        <h1>PhimMovi.com</h1>\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"16\"\r\n          height=\"16\"\r\n          fill=\"currentColor\"\r\n          class=\"bi bi-badge-hd-fill\"\r\n          viewBox=\"0 0 16 16\"\r\n        >\r\n          <path\r\n            d=\"M10.53 5.968h-.843v4.06h.843c1.117 0 1.622-.667 1.622-2.02 0-1.354-.51-2.04-1.622-2.04z\"\r\n          />\r\n          <path\r\n            d=\"M2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2zm5.396 3.001V11H6.209V8.43H3.687V11H2.5V5.001h1.187v2.44h2.522V5h1.187zM8.5 11V5.001h2.188c1.824 0 2.685 1.09 2.685 2.984C13.373 9.893 12.5 11 10.69 11H8.5z\"\r\n          />\r\n        </svg>\r\n      </div>\r\n\r\n      <div class=\"signup-login\">\r\n        <div>\r\n          <button v-if=\"!isLoggedIn\" class=\"btn btn-danger\">\r\n            <router-link to=\"/signup\">Đăng ký</router-link>\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <button v-if=\"!isLoggedIn\" class=\"btn btn-primary\">\r\n            <router-link to=\"/login\">Đăng nhập</router-link>\r\n          </button>\r\n        </div>\r\n        <div v-if=\"isLoggedIn\">\r\n          <div class=\"nav-item dropdown\">\r\n            <div\r\n              class=\"active info dropdown-toggle\"\r\n              id=\"navbarDropdown\"\r\n              role=\"button\"\r\n              data-bs-toggle=\"dropdown\"\r\n              aria-expanded=\"false\"\r\n            >\r\n              <strong>Welcome,</strong>\r\n              <span\r\n                ><i\r\n                  ><strong>{{ username }}</strong></i\r\n                ></span\r\n              >\r\n              <!-- <img id=\"avatar\" :src=\"userImg\" alt=\"\" /> -->\r\n            </div>\r\n            <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n              <div id=\"profile\">\r\n                <router-link id=\"route\" :to=\"'/user/' + userID\"\r\n                  >Thông Tin Cá Nhân</router-link\r\n                >\r\n              </div>\r\n              <div id=\"signout\" @click=\"handleSignOut()\">Đăng Xuất</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <nav class=\"navbar navbar-expand-lg navbar-dark\">\r\n      <div class=\"container-fluid\">\r\n        <router-link to=\"/\" class=\"navbar-brand\">Trang Chủ</router-link>\r\n        <button\r\n          class=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarSupportedContent\"\r\n          aria-controls=\"navbarSupportedContent\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            <li class=\"nav-item\">\r\n              <router-link\r\n                to=\"/popularity\"\r\n                class=\"nav-link active\"\r\n                aria-current=\"page\"\r\n                >Phổ Biến</router-link\r\n              >\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a class=\"nav-link\" href=\"#\"></a>\r\n            </li>\r\n            <li class=\"nav-item dropdown\">\r\n              <router-link\r\n                to=\"\"\r\n                class=\"nav-link active dropdown-toggle\"\r\n                id=\"navbarDropdown\"\r\n                role=\"button\"\r\n                data-bs-toggle=\"dropdown\"\r\n                aria-expanded=\"false\"\r\n              >\r\n                Nội Dung\r\n              </router-link>\r\n              <ul class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n                <li>\r\n                  <router-link to=\"/actionfilm\" class=\"dropdown-item\"\r\n                    >Phim Hành Động</router-link\r\n                  >\r\n                </li>\r\n                <li>\r\n                  <router-link to=\"/adventurefilm\" class=\"dropdown-item\"\r\n                    >Phim Phiêu Lưu</router-link\r\n                  >\r\n                </li>\r\n                <li>\r\n                  <router-link to=\"/horrorfilm\" class=\"dropdown-item\"\r\n                    >Phim Kinh Dị</router-link\r\n                  >\r\n                </li>\r\n                <li>\r\n                  <router-link to=\"/comedyfilm\" class=\"dropdown-item\"\r\n                    >Phim Hài Kịch</router-link\r\n                  >\r\n                </li>\r\n              </ul>\r\n            </li>\r\n            <li class=\"nav-item dropdown\">\r\n              <router-link\r\n                to=\"\"\r\n                class=\"nav-link active dropdown-toggle\"\r\n                id=\"navbarDropdown\"\r\n                role=\"button\"\r\n                data-bs-toggle=\"dropdown\"\r\n                aria-expanded=\"false\"\r\n              >\r\n                Thể Loại\r\n              </router-link>\r\n              <ul class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n                <li>\r\n                  <router-link to=\"featurefilm\" class=\"dropdown-item\"\r\n                    >Phim Điện Ảnh</router-link\r\n                  >\r\n                </li>\r\n                <li>\r\n                  <router-link to=\"tvmovies\" class=\"dropdown-item\"\r\n                    >Phim Truyền Hình</router-link\r\n                  >\r\n                </li>\r\n              </ul>\r\n            </li>\r\n          </ul>\r\n          <form class=\"d-flex search-box\">\r\n            <button class=\"btn btn-success\" type=\"submit\" value=\"search\">\r\n              <router-link class=\"search-btn\" to=\"/search\"\r\n                >Search Movie</router-link\r\n              >\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  </header>\r\n</template>\r\n<script>\r\nimport { onMounted, ref } from \"vue\";\r\n// import { getAuth, onAuthStateChanged, signOut } from \"firebase/auth\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"WebHeader\",\r\n  setup() {\r\n    const isLoggedIn = ref(false);\r\n    const username = ref(\"\");\r\n    const userID = ref(\"\");\r\n    const userEmail = ref(\"\");\r\n    const router = useRouter();\r\n\r\n    onMounted(async () => {\r\n      const res = await axios.get(\"http://localhost:8081/user/info\", {\r\n        headers: {\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n        },\r\n      });\r\n      userID.value = res.data.id;\r\n      userEmail.value = res.data.email;\r\n      username.value = res.data.username;\r\n      isLoggedIn.value = true;\r\n    });\r\n    // let auth;\r\n\r\n    // onMounted(() => {\r\n    //   auth = getAuth();\r\n    //   onAuthStateChanged(auth, (user) => {\r\n    //     if (user) {\r\n    //       isLoggedIn.value = true;\r\n    //       username.value = user.displayName;\r\n    //       userID.value = user.uid;\r\n    //       userImg.value = user.photoURL;\r\n    //       // console.log(user);\r\n    //     } else {\r\n    //       isLoggedIn.value = false;\r\n    //     }\r\n    //   });\r\n    // });\r\n    function handleSignOut() {\r\n      localStorage.removeItem(\"token\");\r\n      router.push(\"/login\");\r\n    }\r\n    return {\r\n      handleSignOut,\r\n      isLoggedIn,\r\n      username,\r\n      userID,\r\n      userEmail,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url(\"https://fonts.googleapis.com/css2?family=Cookie&family=Dancing+Script&family=Great+Vibes&family=Indie+Flower&family=Kaushan+Script&family=Open+Sans:wght@300&family=Sacramento&display=swap\");\r\n\r\n.logo-details {\r\n  padding-top: 200px;\r\n  padding-left: 20px;\r\n  width: 900px;\r\n}\r\n.logo-details h1 {\r\n  font-family: \"Great Vibes\", cursive;\r\n  margin-top: 20px;\r\n}\r\n.logo-details i {\r\n  font-size: 15px;\r\n  color: rgb(204, 202, 204);\r\n}\r\n.logo {\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  /* align-items: center; */\r\n  margin-bottom: 20px;\r\n  height: 300px;\r\n}\r\nheader {\r\n  margin-bottom: 20px;\r\n  color: #fff;\r\n  background-image: url(\"https://cdnimg.vietnamplus.vn/uploaded/izhsr/2015_05_11/ndldleafray5vu9hot9m_211ox9s.jpg\");\r\n  background-position: center;\r\n  background-size: 1520px 500px;\r\n  background-repeat: no-repeat;\r\n}\r\n.signup-login button a {\r\n  text-decoration: none;\r\n  color: #fff;\r\n}\r\n.signup-login {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: end;\r\n  width: 400px;\r\n  padding-top: 20px;\r\n  padding-right: 20px;\r\n}\r\n.signup-login div {\r\n  margin-left: 20px;\r\n}\r\n.navbar {\r\n  color: red;\r\n}\r\n.navbar a:hover {\r\n  color: rgb(83, 203, 250);\r\n}\r\n.movie {\r\n  margin-right: 5px;\r\n  width: 295px;\r\n}\r\n.movies-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 0px 8px;\r\n  color: #f4f4f4;\r\n  text-decoration: none;\r\n}\r\n.movie-link {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n.poster {\r\n  display: block;\r\n}\r\nimg {\r\n  height: 400px;\r\n  object-fit: cover;\r\n  display: block;\r\n  width: 295px;\r\n}\r\n.type {\r\n  text-transform: uppercase;\r\n}\r\n.detail {\r\n  border-radius: 10px;\r\n  height: 200px;\r\n  width: 295px;\r\n  background-color: #f4f4f4;\r\n  padding-bottom: 5px;\r\n  margin-bottom: 10px;\r\n  padding: 10px;\r\n}\r\n.search-btn {\r\n  color: #f4f4f4;\r\n  text-decoration: none;\r\n}\r\n.info {\r\n  font-size: 15px;\r\n  display: flex;\r\n}\r\nspan {\r\n  margin-left: 5px;\r\n  color: yellow;\r\n}\r\n#signout:hover,\r\n#route:hover {\r\n  color: rgb(61, 168, 132);\r\n}\r\n#signout {\r\n  cursor: pointer;\r\n  font-size: 15px;\r\n  margin-top: 8px;\r\n}\r\n#profile {\r\n  cursor: pointer;\r\n  font-size: 15px;\r\n}\r\n#route {\r\n  text-decoration: none;\r\n  color: black;\r\n}\r\n#avatar {\r\n  margin-left: 10px;\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}